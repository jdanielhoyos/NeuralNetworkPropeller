function [y1] = myNeuralNetworkFunction2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 03-Nov-2021 22:44:42.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx12 matrix, input #1
% and returns:
%   y = Qx2 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-1.88776516454534;-1.82253181974543;-1.14446823758742;-0.0302260061919502;-765.592457078525;-724.354171227237;-1597.2715193733;-199.925870677882;-15.6442672858614;0.031750063500127;1500;0.044153];
x1_step1.gain = [0.773199989360857;0.440555673006761;0.858175881774248;4.09075308273497;0.00189018686409682;0.000768028122361945;0.000910498707732384;0.00280853773616782;0.0240355512343563;9.54424242424242;8.48788354623775e-05;1.32639452146007];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.53190710832286791643;-0.84883182965339343262;-3.0910396385522509455;-1.8327871916662166196;-0.47349833371861838049;0.72904882421420691418;9.6143365055018144005;31.344886510698056981;28.540999206696803014;2.1003660172619564861;-4.2355290429285670228;-33.394246250596935965;0.68917526463875600218;-0.036534295841583297459;-3.135756235465874564;-0.31484557753873798625;20.148081850875492194;0.50108942698469827182];
IW1_1 = [0.041327545423159653404 1.2790102294480290013 1.3451674608741222006 0.065120674936211195294 1.1680842148544479109 2.2844095801962462922 1.5370273325338301706 0.55806931545954796547 0.12466528521500046256 -0.0049600687053748477098 -0.41325131298343498187 0.41311639392430099527;-0.5022302527660781335 -1.1970484784819246382 -0.85395394411404734747 -0.18260671639469805427 -0.72321038959887884445 -0.35455341751500091263 0.78362507808456993708 0.29864521425666579191 -0.086044957327093801736 -0.0059855618510125992854 0.44449984356188315671 -0.045902019460377009585;1.9788167519157791041 1.3091799675413970938 -2.2283598836417484179 1.3360790538035378638 -10.12312179893556241 -5.2610926398793935732 12.169993870697435767 -5.1736365908904131672 -11.363109738384817859 -12.166019965482087528 -2.5070707383678603186 0.87798580539878112727;1.1178768270326067125 -4.9836482864752209565 -4.5022034177179826031 4.5121251846083962889 -3.3178648418982330526 4.5623219669339443172 7.16015490423856793 -8.5980175335944064585 -14.241891626291593553 5.5229938470180197641 -0.44110973796329805419 0.138790963629518177;-1.4201582698663992588 -4.3167213146602216867 -3.0864168581745166087 -0.028730748829704701175 -4.7277040003596937368 -6.3805483089340366831 0.012646700365541522701 1.2572190231543869388 -0.313832405564110406 -0.065435579029810328477 0.54912674214410972517 1.5049723911121446474;-2.9125420990295256551 -8.3265785759731034688 -6.7659266112499825141 -0.4317642043261903928 4.0616138821774541157 7.1863050948354691982 -0.59876951729871452645 -2.6076065681496158888 0.33138244323782112266 0.30049070464222848997 -0.050066264968603259311 0.19012288673515181925;-18.25757302685278205 -13.658389330174866672 -4.7412691998607021659 -3.7032575974901105198 11.272626130306290904 6.5742661553152226261 -9.21649180201051621 6.2476956815133402046 7.5627859383950619687 7.2973660553701487075 39.364423985127920957 1.0749408219877538695;21.313967997854309289 36.674843247962236603 17.089750299868800454 -0.20748469376448228085 -4.0258976831760850956 -2.0310016097494880682 1.6971704163670120469 -0.66689292495279006712 -0.64946021324992508905 -0.23120554645582255815 55.871922039983886066 0.08549733824014876804;3.5533226749611932505 5.6395395641261387709 2.7845862528123865864 0.46586356042174031922 -1.8718383792922506093 -6.7532498715070143902 -6.8014930833434350532 -2.1014363918226099948 -0.084156045596186293545 -0.22399863719223736536 56.247492604669233174 0.40200817488659829069;-0.18889398284161024177 6.7486347941317230692 5.8050791763305022997 -3.9865969129939409221 6.1014154812504814984 1.1943688438731483448 -2.9529748708338301455 10.05759929463581237 14.53185486288725059 -5.3489970908692106022 0.47882434425340908435 -0.14975772103795081946;0.41142745527121066251 0.94763096520796674671 0.49836250861604336482 -0.048169359820083260115 0.57102677095684062358 0.94999104521964439218 0.80314963139052764074 0.65143338606673051316 0.16094186984712266497 -0.010002585498986643273 8.2244558560799809754 0.32645305742063968069;-21.783970876375200021 -37.528801621541170164 -17.515308956732660306 0.25436807945435330192 3.0279367092005990969 -1.2589288095059363304 -4.7788451658947055378 -0.19219872303358551124 0.58081486235405643814 0.22370253314385765697 -59.387802848834908787 -0.10465371280980584334;-1.9070159716937533645 -4.1166342438606822185 -3.1371169000398078097 -0.98962911956250942946 -0.79144250431027762804 1.7625113473496296645 3.6742192394188335491 1.1567952983807046063 -0.099826329319806741958 -0.21048549411998526693 0.080597110355311599172 1.7748127084658036345;3.7778565561562409414 9.6975133457181179608 5.196428819422013845 -1.0666876578562354272 6.2882677672610647335 4.1151603302024550857 -7.9921836200286984209 -5.3205105104657794968 0.62449039874402934025 0.039120476631808467904 -1.6053970344576666829 -3.5848565815790451872;3.8308546971796122449 -1.6859888156953439786 -9.3544902328991597074 9.3292275539971623033 -4.072426691535583565 -5.2949803946643063668 -1.1427975410906296982 -1.5407462433909711041 -2.2807385821584089669 5.5717620742130380407 -1.7160345550344371368 0.79791261744178287874;2.4881596426150913715 6.8256409652088123607 5.5815069166655479904 1.4007519917997171 3.3046816016010156503 2.3827027354092171763 -1.2835669664460871431 -0.50395276527519716758 0.23991867504976474579 0.40417474855445084669 -0.072704902189243511557 -2.1480930206595738596;2.4799881584080738506 4.0068715641826111451 2.0228253354306229284 0.30837439452995302203 0.91940285447104730387 0.49586770323557755047 -0.80708728337946455955 -0.4096246711911371019 0.071975212776366884193 -0.18682513911226961145 40.136663132514648566 0.39113594460044842638;-3.1597569119069137678 -4.756370611516186564 -0.61565006290464008298 -5.2690630102293454229 6.0193412800974845922 -2.748494530124757862 -12.231062470249296936 -2.7371197892754834946 0.99570008259422970731 -3.6681835400188758101 -0.94095803291783797206 0.43922780656863796844];

% Layer 2
b2 = [3.2367537466548403913;3.4806944923626201849];
LW2_1 = [1.9979708277679260053 7.8592133872883103152 0.052176778306333389257 2.1943546879848070397 -1.2198314085082189173 0.28957758361394814184 -0.24471384065440107691 -4.1739326181727216536 9.7004600984968174515 2.1973471276289529008 -0.99166681226235708912 -4.1521576454920028354 -1.1806599682948977215 -0.34953143628078903182 0.21111785329090235197 -0.46200962216819441153 -9.6904355601582334856 0.24570022920537690214;2.5708295575611304074 9.4937757113861849234 0.065356011684957984742 3.0441939852665940158 -1.48629964842326312 0.42963049582447998542 -0.27886457507906120545 -5.8306444131417816124 12.800465040543642203 3.0423634204884510979 -1.1216651634660113057 -5.8044598214213563026 -0.72579811073940181387 -0.49836389146382198412 0.30503602262200318895 -0.20202648907504738851 -12.755228158808073147 0.3692666407352397373];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [7.82582836393232;13.7268359643102];
y1_step1.xoffset = [-0.0638;0.0025];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
